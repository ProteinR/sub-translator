# Translator Automation

Этот проект автоматизирует процесс перевода строк в *** с использованием Google Gemini API и Playwright. Скрипт автоматически собирает непереведенные строки, отправляет их в Gemini для перевода и вставляет результат обратно в редактор ***.

## Предварительные требования

Для запуска проекта на Windows вам понадобятся:

1.  **Go (Golang)**: Скачайте и установите последнюю версию с [официального сайта](https://go.dev/dl/).
2.  **Git**: Скачайте и установите с [git-scm.com](https://git-scm.com/download/win).
3.  **Google Gemini API Key**: Получите ключ API в [Google AI Studio](https://aistudio.google.com/).

## Установка

1.  **Склонируйте репозиторий** (или скачайте архив с кодом):
    ```powershell
    git clone <ссылка-на-ваш-репозиторий>
    cd translator
    ```

2.  **Установите зависимости Go**:
    ```powershell
    go mod tidy
    ```

3.  **Установите браузеры для Playwright**:
    ```powershell
    go run github.com/playwright-community/playwright-go/cmd/playwright@latest install --with-deps
    ```

## Настройка

1.  **Создайте файл конфигурации**:
    Скопируйте файл `.env-example` и назовите его `.env`.
    ```powershell
    copy .env-example .env
    ```

2.  **Отредактируйте `.env`**:
    Откройте файл `.env` в любом текстовом редакторе (Блокнот, VS Code) и заполните следующие поля:
    *   `GEMINI_API_KEY`: Ваш ключ от Google Gemini.
    *   `MAX_CONCURRENCY`: Количество параллельных окон (например, `3`).
    *   Остальные параметры можно оставить по умолчанию.

3.  **Добавьте проекты**:
    Откройте файл `projects.txt` и добавьте ссылки на проекты Lokalise, которые нужно перевести. Каждая ссылка должна быть с новой строки.
    Пример:
    ```text
    https://app.loka***.com/project/12345678.abc/translate/
    https://app.loka***.com/project/87654321.xyz/translate/
    ```

## Запуск

1.  Запустите программу:
    ```powershell
    go run main.go
    ```

2.  **Первый запуск (Авторизация)**:
    *   При первом запуске откроется окно браузера со страницей входа.
    *   **Введите логин и пароль вручную** в браузере.
    *   Если потребуется капча или 2FA, пройдите их.
    *   После успешного входа вернитесь в консоль (терминал) и нажмите **Enter**.
    *   Файл с куками сохранится в `auth.json`, и при следующих запусках вход будет выполнен автоматически.

## Возможные проблемы

*   **Ошибка "playwright not found"**: Убедитесь, что вы выполнили шаг 3 из раздела "Установка".
*   **Браузер не открывается**: Проверьте, не блокирует ли антивирус запуск Chromium.
*   **Ошибки перевода**: Проверьте лимиты вашего API ключа Gemini.

## Структура проекта

*   `main.go`: Основной код программы.
*   `.env`: Ваши секретные настройки (не передавайте этот файл никому).
*   `projects.txt`: Список ссылок для обработки.
*   `auth.json`: Файл сессии (создается автоматически).
